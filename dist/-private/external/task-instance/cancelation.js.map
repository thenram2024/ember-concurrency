{"version":3,"file":"cancelation.js","sources":["../../../../src/-private/external/task-instance/cancelation.js"],"sourcesContent":["export const TASK_CANCELATION_NAME = 'TaskCancelation';\n\n/**\n * Returns true if the object passed to it is a TaskCancelation error.\n * If you call `someTask.perform().catch(...)` or otherwise treat\n * a {@linkcode TaskInstance} like a promise, you may need to\n * handle the cancelation of a TaskInstance differently from\n * other kinds of errors it might throw, and you can use this\n * convenience function to distinguish cancelation from errors.\n *\n * ```js\n * click() {\n *   this.myTask.perform().catch(e => {\n *     if (!didCancel(e)) { throw e; }\n *   });\n * }\n * ```\n *\n * @param {object} error the caught error, which might be a TaskCancelation\n * @returns {boolean}\n */\nexport function didCancel(e) {\n  return e && e.name === TASK_CANCELATION_NAME;\n}\n\nexport const CANCEL_KIND_EXPLICIT = 'explicit';\nexport const CANCEL_KIND_YIELDABLE_CANCEL = 'yielded';\nexport const CANCEL_KIND_LIFESPAN_END = 'lifespan_end';\nexport const CANCEL_KIND_PARENT_CANCEL = 'parent_cancel';\n\nexport class CancelRequest {\n  constructor(kind, reason) {\n    this.kind = kind;\n    this.reason = reason;\n    this.promise = new Promise((resolve) => {\n      this.finalize = resolve;\n    });\n  }\n}\n"],"names":["TASK_CANCELATION_NAME","didCancel","e","name","CANCEL_KIND_EXPLICIT","CANCEL_KIND_YIELDABLE_CANCEL","CANCEL_KIND_LIFESPAN_END","CANCEL_KIND_PARENT_CANCEL","CancelRequest","constructor","kind","reason","promise","Promise","resolve","finalize"],"mappings":"AAAO,MAAMA,qBAAqB,GAAG,kBAAiB;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,SAASA,CAACC,CAAC,EAAE;AAC3B,EAAA,OAAOA,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAKH,qBAAqB,CAAA;AAC9C,CAAA;AAEO,MAAMI,oBAAoB,GAAG,WAAU;AACvC,MAAMC,4BAA4B,GAAG,UAAS;AAC9C,MAAMC,wBAAwB,GAAG,eAAc;AAC/C,MAAMC,yBAAyB,GAAG,gBAAe;AAEjD,MAAMC,aAAa,CAAC;AACzBC,EAAAA,WAAWA,CAACC,IAAI,EAAEC,MAAM,EAAE;IACxB,IAAI,CAACD,IAAI,GAAGA,IAAI,CAAA;IAChB,IAAI,CAACC,MAAM,GAAGA,MAAM,CAAA;AACpB,IAAA,IAAI,CAACC,OAAO,GAAG,IAAIC,OAAO,CAAEC,OAAO,IAAK;MACtC,IAAI,CAACC,QAAQ,GAAGD,OAAO,CAAA;AACzB,KAAC,CAAC,CAAA;AACJ,GAAA;AACF;;;;"}